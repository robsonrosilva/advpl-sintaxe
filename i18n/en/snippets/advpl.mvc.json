{
    "MVCMD1": {
        "prefix": "MVC Modelo 1",
        "body": [
            "/*//#########################################################################################",
            "Projeto : ${project}",
            "Modulo  : ${module}",
            "Fonte   : ${TM_FILENAME_BASE}",
            "Objetivo: ${objetivo}",
            "*///#########################################################################################",
            "",
            "#INCLUDE 'TOTVS.CH'",
            "#INCLUDE 'FWMVCDEF.CH'",
            "",
            "/*/{Protheus.doc} ${TM_FILENAME_BASE}",
            "   Cadastro MVC Modelo 1",
            "   @author  ${Nome}",
            "   @example ${Exemplos}",
            "   @param   [${Nome_do_Parametro}],${Tipo_do_Parametro},${Descricao_do_Parametro}",
            "   @return  ${Especifica_o_retorno}",
            "   @table   ${Tabelas}",
            "   @since   ${CURRENT_DATE}-${CURRENT_MONTH}-${CURRENT_YEAR}",
            "/*/",
            "",
            "User Function ${TM_FILENAME_BASE}()",
            "    Local aArea   := GetArea()",
            "    Local oBrowse",
            "",
            "    //Instânciando FWMBrowse - Somente com dicionário de dados",
            "    oBrowse := FWMBrowse():New()",
            "",
            "    //Setando a tabela de cadastro de Autor/Interprete",
            "    oBrowse:SetAlias('${tabela_base}')",
            "",
            "    //Setando a descrição da rotina",
            "    oBrowse:SetDescription(cTitulo)",
            "",
            "    //Legendas",
            "    ${MVCLeg}",
            "",
            "    //Ativa a Browse",
            "    oBrowse:Activate()",
            "",
            "    RestArea(aArea)",
            "Return Nil",
            "",
            "/*/{Protheus.doc} MenuDef",
            "   Criação do menu MVC",
            "   @author  ${Nome}",
            "   @example ${Exemplos}",
            "   @param   [${Nome_do_Parametro}],${Tipo_do_Parametro},${Descricao_do_Parametro}",
            "   @return  ${Especifica_o_retorno}",
            "   @table   ${Tabelas}",
            "   @since   ${CURRENT_DATE}-${CURRENT_MONTH}-${CURRENT_YEAR}",
            "/*/",
            "",
            "Static Function MenuDef()",
            "    Local aRot := {}",
            "",
            "    //Adicionando opções",
            "    ADD OPTION aRot TITLE 'Visualizar' ACTION 'VIEWDEF.${TM_FILENAME_BASE}' OPERATION MODEL_OPERATION_VIEW   ACCESS 0 //OPERATION 1",
            "    ADD OPTION aRot TITLE 'Legenda'    ACTION 'StaticCall(${TM_FILENAME_BASE},legenda)'     OPERATION 6                      ACCESS 0 //OPERATION X",
            "    ADD OPTION aRot TITLE 'Incluir'    ACTION 'VIEWDEF.${TM_FILENAME_BASE}' OPERATION MODEL_OPERATION_INSERT ACCESS 0 //OPERATION 3",
            "    ADD OPTION aRot TITLE 'Alterar'    ACTION 'VIEWDEF.${TM_FILENAME_BASE}' OPERATION MODEL_OPERATION_UPDATE ACCESS 0 //OPERATION 4",
            "    ADD OPTION aRot TITLE 'Excluir'    ACTION 'VIEWDEF.${TM_FILENAME_BASE}' OPERATION MODEL_OPERATION_DELETE ACCESS 0 //OPERATION 5",
            "",
            "Return aRot",
            "",
            "/*/{Protheus.doc} MenuDef",
            "   Criação do modelo de dados MVC ",
            "   @author  ${Nome}",
            "   @example ${Exemplos}",
            "   @param   [${Nome_do_Parametro}],${Tipo_do_Parametro},${Descricao_do_Parametro}",
            "   @return  ${Especifica_o_retorno}",
            "   @table   ${Tabelas}",
            "   @since   ${CURRENT_DATE}-${CURRENT_MONTH}-${CURRENT_YEAR}",
            "/*/",
            "",
            "Static Function ModelDef()",
            "    //Criação do objeto do modelo de dados",
            "    Local oModel := Nil",
            "",
            "    //Criação da estrutura de dados utilizada na interface",
            "    Local oSt${tabela_base} := FWFormStruct(1, \"${tabela_base}\")",
            "",
            "    //Instanciando o modelo, não é recomendado colocar nome da user function (por causa do u_), respeitando 10 caracteres",
            "    oModel := MPFormModel():New(\"${TM_FILENAME_BASE}M\",/*bPre*/, /*bPos*/,/*bCommit*/,/*bCancel*/) ",
            "",
            "    //Atribuindo formulários para o modelo",
            "    oModel:AddFields(\"FORM${tabela_base}\",/*cOwner*/,oSt${tabela_base})",
            "",
            "    //Setando a chave primária da rotina Ex: 'BM_FILIAL','BM_GRUPO'",
            "    oModel:SetPrimaryKey(AllTrim(Separa(POSICIONE('SIX',1,'${tabela_base}','SIX->CHAVE'),'+',.F.)))",
            "",
            "    //Adicionando descrição ao modelo",
            "    oModel:SetDescription(\"Modelo de Dados do Cadastro \"+cTitulo)",
            "",
            "    //Setando a descrição do formulário",
            "    oModel:GetModel(\"FORM${tabela_base}\"):SetDescription(\"Formulário do Cadastro \"+cTitulo)",
            "Return oModel",
            "",
            "/*/{Protheus.doc} MenuDef",
            "   Criação da visão MVC ",
            "   @author  ${Nome}",
            "   @example ${Exemplos}",
            "   @param   [${Nome_do_Parametro}],${Tipo_do_Parametro},${Descricao_do_Parametro}",
            "   @return  ${Especifica_o_retorno}",
            "   @table   ${Tabelas}",
            "   @since   ${CURRENT_DATE}-${CURRENT_MONTH}-${CURRENT_YEAR}",
            "/*/",
            "",
            "Static Function ViewDef()",
            "    //Criação do objeto do modelo de dados da Interface do Cadastro de Autor/Interprete",
            "    Local oModel := FWLoadModel(\"${TM_FILENAME_BASE}\")",
            "",
            "    //Criação da estrutura de dados utilizada na interface do cadastro de Autor",
            "    Local oSt${tabela_base} := FWFormStruct(2, \"${tabela_base}\")  //pode se usar um terceiro parâmetro para filtrar os campos exibidos { |cCampo| cCampo $ 'SBM_NOME|SBM_DTAFAL|'}",
            "",
            "    //Criando oView como nulo",
            "    Local oView := Nil",
            "",
            "    //Criando a view que será o retorno da função e setando o modelo da rotina",
            "    oView := FWFormView():New()",
            "    oView:SetModel(oModel)",
            "",
            "    //Atribuindo formulários para interface",
            "    oView:AddField(\"VIEW_${tabela_base}\", oSt${tabela_base}, \"FORM${tabela_base}\")",
            "",
            "    //Criando um container com nome tela com 100%",
            "    oView:CreateHorizontalBox(\"TELA\",100)",
            "",
            "    //Colocando título do formulário",
            "    oView:EnableTitleView('VIEW_${tabela_base}', 'Dados do ' + cTitulo )  ",
            "",
            "    //Força o fechamento da janela na confirmação",
            "    oView:SetCloseOnOk({||.T.})",
            "",
            "    //O formulário da interface será colocado dentro do container",
            "    oView:SetOwnerView(\"VIEW_${tabela_base}\",\"TELA\")",
            "Return oView",
            "",
            "/*/{Protheus.doc} MenuDef",
            "   Função para mostrar a legenda das rotinas MVC",
            "   @author  ${Nome}",
            "   @example ${Exemplos}",
            "   @param   [${Nome_do_Parametro}],${Tipo_do_Parametro},${Descricao_do_Parametro}",
            "   @return  ${Especifica_o_retorno}",
            "   @table   ${Tabelas}",
            "   @since   ${CURRENT_DATE}-${CURRENT_MONTH}-${CURRENT_YEAR}",
            "/*/",
            "",
            "Static Function legenda()",
            "    Local aLegenda := {}",
            "",
            "    //Monta as cores",
            "    AADD(aLegenda,{\"BR_VERDE\",Original  })",
            "    AADD(aLegenda,{\"BR_VERMELHO\",Não Original})",
            "",
            "    BrwLegenda('Legenda ' + cTitulo, \"Procedencia\", aLegenda)",
            "Return"
        ],
        "description": "Monta Browse MVC MOdelo 1."
    },
    "MVCLEG": {
        "prefix": "MVC Legenda",
        "body": [
            "oBrowse:AddLegend( ${condicao}, \"${cor}\",\"${descricao}\" )"
        ],
        "description": "Adicina legenda MVC."
    }
}